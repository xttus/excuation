\# 产品需求文档（PRD）

版本：v0.1（网页版 MVP）

更新时间：2026-01-20

产品名称：Execution Panel（暂定）

定位一句话：把“现在该做什么”和“立刻开始”做成一个固定的低摩擦入口，用强约束 + 即时反馈对抗拖延。

---

\## 一、产品背景与问题

在学习、内容创作与多平台任务执行过程中，个人往往需要在多个网页、工具和平台之间频繁跳转完成任务（剪辑、写作、发布、提交、表单、查资料等）。任务不复杂，但会被拖延，核心原因不是“不会做”，而是“启动成本高 + 决策疲劳 + 缺乏即时反馈”。

本产品聚焦解决：

1. **任务开始难**：还没开始就被“要做的步骤太多/要先想清楚”劝退
2. **任务切换累**：多链接、多平台导致执行中断
3. **优先级失效**：任务多但不知道“现在该做什么”
4. **重复任务低效**：每次都要重新想一遍流程
5. **缺乏反馈闭环**：完成/失败对行为没有即时影响

---

\## 二、产品目标与非目标

\### 2.1 目标（MVP）

- 让用户在 10 秒内把“脑子里的事”落到任务池
- 让用户从打开页面到进入执行态 <= 2 次点击
- 用简单的奖惩与连续完成（streak）提供即时反馈
- 支持最基础的 SOP 复用（按任务类型/模板复用步骤）

\### 2.2 非目标（MVP 明确不做）

- 账号体系/云同步/多人协作
- 复杂的 GTD/项目管理（标签、看板、依赖、子任务树等）
- 复杂统计报表（只保留最小反馈：执行点与连续完成）

---

\## 三、核心概念与约束

- **任务（Task）**：用户要推进的一件事；MVP 以“能开始”为优先，字段极简。
- **执行态（Focus Mode）**：全屏/高对比/低干扰；不提供暂停；计时结束未完成则失败。
- **执行点（Points）**：即时奖惩；用于反馈而非精确量化生产力。
- **连续完成（Streak）**：连续完成次数；失败会清零（可配置）。
- **SOP**：按任务类型或模板复用的步骤清单；不在创建任务时强迫填写，在完成后提示沉淀。

---

\## 四、信息架构（网页版 MVP）

页面（4 个）：

1. 主界面（执行面板）
2. 任务池（任务列表）
3. 执行态（倒计时 + 完成/失败）
4. 设置（轻量）
5. SOP 库（查看/编辑/新建/删除）

---

\## 五、用户流程（MVP）

1) 打开主界面 -> 看到“当前推荐任务（仅 1 个）”

2) 点击【开始】-> 进入“开始前确认”抽屉 -> 点击【直接开始】-> 进入执行态

3) 执行态结束方式：

- 点击【完成】-> 结算 +5 点，streak +1 -> 可选：提示“为该类型沉淀 SOP”
- 点击【放弃】-> 结算 -3 点，streak 清零
- 倒计时归零且未完成 -> 自动判定失败（同放弃）

4) 随时可【+ 快速添加任务】把分心事项记入任务池（降低切换损耗）

---

\## 六、功能需求（MVP 细化）

\### 6.1 任务（Task）

创建必填：

- 任务名（title）

创建可选（但建议提供）：

- 预计用时（estimateMin，默认 25）
- 任务类型（type，默认 deep；可选 repeat/light）
- 重要性（importance：normal / urgent；urgent 优先推荐）
- 链接列表（links，可选，支持多个）
- 完成标准（definitionOfDone，一句话，可选）
- 事项 / SOP 归属（sopKey，可选但推荐）
- 笔记（notes，可选，执行中沉淀灵感/要点）

任务状态：

- todo（未完成）
- done（已完成）
- failed（失败记录仅进入日志；任务本身仍可继续保留为 todo，MVP 采用“失败不自动删除”）

\### 6.2 推荐任务规则（主界面只展示 1 个）

排序规则（从上到下命中）：

1. 有 `urgent` 的未完成任务：选最早创建的 1 个
2. 否则：选“最近最该做”的未完成任务（MVP 用创建时间顺序即可）

跳过规则：

- 点击【跳过】后，将该任务放到队尾（通过 `lastSkippedAt` 实现）

\### 6.3 开始前确认（抽屉/弹层）

目的：把“要不要打开链接/要不要 SOP/完成标准是什么”一次确认，进入执行态后零思考。

内容（MVP）：

- 显示任务名、预计用时
- 可编辑：完成标准（可空）
- 开关：进入执行态时是否自动打开链接（若有 links）
- 开关：是否加载 SOP（若该类型存在 SOP）

按钮：

- 【直接开始】
- 【返回】

\### 6.4 执行态（Focus Mode）

布局元素（MVP）：

- 倒计时（mm:ss）
- 当前任务名
- 完成标准（若为空则显示“完成标准：做到你愿意提交/发布/交付”）
- SOP 勾选清单（若启用且存在）
- 灵感/笔记输入框（自动保存草稿，可保存为笔记记录）

约束：

- 不提供暂停
- 自动全屏/高对比（做不到全屏则至少隐藏导航并高对比）

按钮：

- 【完成】（立即结算成功）
- 【放弃】（立即结算失败）

\### 6.5 奖惩与反馈

默认规则（MVP）：

- 完成：points +5
- 失败：points -3
- streak：完成 +1；失败清零

展示（主界面/任务池顶部）：

- 当前 points
- 当前 streak

\### 6.6 SOP（轻量）

定义：按“事项（sopKey）”保存一组步骤（纯文本列表）。同一事项的不同任务可复用同一 SOP。

生成时机（MVP）：

- 任务完成后弹出提示：“要把本次步骤保存为该类型 SOP 吗？”
- 输入方式：多行文本（每行一个步骤）或逗号分隔（实现上可二选一）

使用方式（MVP）：

- 执行态可加载该事项 sopKey 的 SOP 为勾选列表

---

\## 七、设置（MVP）

- 默认预计用时（defaultEstimateMin）
- 奖惩规则（completePoints / failPoints）
- streak 规则（失败是否清零：默认清零）
- 数据清空（带二次确认）

---

\## 八、数据与存储（纯前端）

技术约束：

- 纯前端实现，无后端
- localStorage 持久化
- 允许离线使用（MVP 可先做静态可用；可选增加 Service Worker 缓存）

建议存储结构（v1）：

- key：`execPanel:v1`
- value（JSON）包含：
  - tasks: Task[]
  - settings
  - stats: { points, streak }
  - sops: { [type]: string[] }
  - schemaVersion

---

\## 九、验收标准（MVP）

- 能创建/查看/删除任务；刷新页面后数据不丢
- 主界面永远只展示 1 个“当前推荐任务”
- 从主界面进入执行态：不超过 2 次点击（开始 -> 直接开始）
- 执行态无暂停；倒计时结束自动失败
- 完成/失败会即时更新 points 与 streak，并在主界面可见
- SOP：完成后能保存该类型 SOP；下次执行同类型任务可加载并勾选

---

\## 十、风险与控制（MVP 取舍）

| 风险 | 对应设计 |
| --- | --- |
| 填写负担过大 | 创建只强制“任务名”，其余可选 |
| 用几天就放弃 | 主界面只给 1 个动作：开始当前任务 |
| 奖惩失效 | 即时结算 + points/streak 常驻可见 |

---

\## 十一、总结

Execution Panel 不是任务管理工具，而是一个 **执行环境设计工具**：

- 用“只展示一个任务”的信息架构压缩决策
- 用“无暂停倒计时”提高执行连续性
- 用“即时奖惩 + streak”提供行为反馈
- 用“完成后沉淀 SOP”降低重复任务启动成本

